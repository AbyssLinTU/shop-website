{"ast":null,"code":"import React,{useContext,useEffect,useState}from\"react\";import{Offers}from\"../Offers/Offers\";import{StateContext}from\"../../context/context\";import{useParams}from\"react-router-dom\";import{Tree}from\"../Tree/Tree\";import c from\"./ViewPage.module.scss\";import\"swiper/css\";import\"swiper/css/pagination\";import\"swiper/css/navigation\";import{SwiperView}from\"./SwiperView\";import{TabBar}from\"../TabBar/TabBar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const ViewPage=props=>{const[added,setAdded]=useState(false);const[product,setProduct]=useState({});const{state1,addOrder}=useContext(StateContext);const{id}=useParams();useEffect(()=>{setAdded(false);const fetchedProduct=state1.product.find(p=>p.id===parseInt(id));if(fetchedProduct){setProduct(fetchedProduct);}},[id,state1.product]);const handleAddToBasket=()=>{if(product&&!state1.order.some(orderProduct=>orderProduct.id===product.id)){setAdded(true);addOrder(product);}};return/*#__PURE__*/_jsxs(\"div\",{className:c.viewpage,children:[/*#__PURE__*/_jsx(Tree,{title:product.name}),/*#__PURE__*/_jsxs(\"div\",{className:c.view,children:[/*#__PURE__*/_jsxs(\"div\",{className:c.images,children:[product.photo&&/*#__PURE__*/_jsx(\"img\",{className:c.view__image,src:product.photo.main,alt:\"\"}),product.photo&&/*#__PURE__*/_jsx(\"img\",{className:c.view__image,src:product.photo.display1,alt:\"\"}),product.photo&&/*#__PURE__*/_jsx(\"img\",{className:c.view__image,src:product.photo.display2,alt:\"\"}),product.photo&&/*#__PURE__*/_jsx(\"img\",{className:c.view__image,src:product.photo.display3,alt:\"\"})]}),product.photo&&/*#__PURE__*/_jsx(SwiperView,{product:product}),/*#__PURE__*/_jsxs(\"div\",{className:c.product__info2,children:[/*#__PURE__*/_jsxs(\"div\",{className:c.product__info,children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:c.product__name,children:product.name}),/*#__PURE__*/_jsx(\"div\",{className:c.product__title,children:product.title})]}),/*#__PURE__*/_jsxs(\"div\",{className:c.product__sale,children:[product.sale,\" \\u20B4\"]}),/*#__PURE__*/_jsx(\"button\",{className:state1.order.some(orderProduct=>orderProduct.id===product.id)||added?c.added_button:c.add__button,onClick:handleAddToBasket,children:state1.order.some(orderProduct=>orderProduct.id===product.id)||added?\"Додано у кошик\":\"Додати у кошик\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:c.input__colors,children:[/*#__PURE__*/_jsx(\"p\",{className:c.input__text,children:\"\\u041A\\u043E\\u043B\\u0456\\u0440:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(c.texture,\" \").concat(c.texture_1)}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(c.texture,\" \").concat(c.texture_2)}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(c.texture,\" \").concat(c.texture_3)}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(c.texture,\" \").concat(c.texture_4)}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(c.texture,\" \").concat(c.texture_5)}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(c.texture,\" \").concat(c.texture_6)}),/*#__PURE__*/_jsx(\"div\",{className:\"\".concat(c.texture,\" \").concat(c.texture_7)})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:c.product__description,children:/*#__PURE__*/_jsx(\"div\",{className:c.container,children:/*#__PURE__*/_jsxs(\"div\",{className:c.description__grid,children:[/*#__PURE__*/_jsx(TabBar,{}),product.photo&&/*#__PURE__*/_jsx(\"img\",{className:c.description__image,src:product.photo.main,alt:\"\"})]})})}),/*#__PURE__*/_jsx(Offers,{product:state1.product,type:\"new\",title:\"\\u041D\\u043E\\u0432\\u0456 \\u043C\\u043E\\u0434\\u0435\\u043B\\u0456\"}),/*#__PURE__*/_jsx(Offers,{product:state1.product,type:\"popular\",title:\"\\u041F\\u043E\\u043F\\u0443\\u043B\\u044F\\u0440\\u043D\\u0456 \\u043C\\u043E\\u0434\\u0435\\u043B\\u0456\"})]});};","map":{"version":3,"names":["React","useContext","useEffect","useState","Offers","StateContext","useParams","Tree","c","SwiperView","TabBar","jsx","_jsx","jsxs","_jsxs","ViewPage","props","added","setAdded","product","setProduct","state1","addOrder","id","fetchedProduct","find","p","parseInt","handleAddToBasket","order","some","orderProduct","className","viewpage","children","title","name","view","images","photo","view__image","src","main","alt","display1","display2","display3","product__info2","product__info","product__name","product__title","product__sale","sale","added_button","add__button","onClick","input__colors","input__text","concat","texture","texture_1","texture_2","texture_3","texture_4","texture_5","texture_6","texture_7","product__description","container","description__grid","description__image","type"],"sources":["D:/Git/shop-website/src/components/ViewPage/ViewPage.jsx"],"sourcesContent":["import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Offers } from \"../Offers/Offers\";\r\nimport { StateContext } from \"../../context/context\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { Tree } from \"../Tree/Tree\";\r\nimport c from \"./ViewPage.module.scss\";\r\nimport \"swiper/css\";\r\nimport \"swiper/css/pagination\";\r\nimport \"swiper/css/navigation\";\r\nimport { SwiperView } from \"./SwiperView\";\r\nimport { TabBar } from \"../TabBar/TabBar\";\r\n\r\nexport const ViewPage = (props) => {\r\n  const [added, setAdded] = useState(false);\r\n  const [product, setProduct] = useState({});\r\n  const { state1, addOrder } = useContext(StateContext);\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    setAdded(false);\r\n    const fetchedProduct = state1.product.find((p) => p.id === parseInt(id));\r\n    if (fetchedProduct) {\r\n      setProduct(fetchedProduct);\r\n    }\r\n  }, [id, state1.product]);\r\n  const handleAddToBasket = () => {\r\n    if (\r\n      product &&\r\n      !state1.order.some((orderProduct) => orderProduct.id === product.id)\r\n    ) {\r\n      setAdded(true);\r\n      addOrder(product);\r\n    }\r\n  };\r\n  return (\r\n    <div className={c.viewpage}>\r\n      <Tree title={product.name} />\r\n      <div className={c.view}>\r\n        <div className={c.images}>\r\n          {product.photo && (\r\n            <img className={c.view__image} src={product.photo.main} alt=\"\" />\r\n          )}\r\n          {product.photo && (\r\n            <img\r\n              className={c.view__image}\r\n              src={product.photo.display1}\r\n              alt=\"\"\r\n            />\r\n          )}\r\n          {product.photo && (\r\n            <img\r\n              className={c.view__image}\r\n              src={product.photo.display2}\r\n              alt=\"\"\r\n            />\r\n          )}\r\n          {product.photo && (\r\n            <img\r\n              className={c.view__image}\r\n              src={product.photo.display3}\r\n              alt=\"\"\r\n            />\r\n          )}\r\n        </div>\r\n        {product.photo && <SwiperView product={product} />}\r\n        <div className={c.product__info2}>\r\n          <div className={c.product__info}>\r\n            <div>\r\n              <div className={c.product__name}>{product.name}</div>\r\n              <div className={c.product__title}>{product.title}</div>\r\n            </div>\r\n\r\n            <div className={c.product__sale}>{product.sale} ₴</div>\r\n\r\n            <button\r\n              className={\r\n                state1.order.some(\r\n                  (orderProduct) => orderProduct.id === product.id\r\n                ) || added\r\n                  ? c.added_button\r\n                  : c.add__button\r\n              }\r\n              onClick={handleAddToBasket}\r\n            >\r\n              {state1.order.some(\r\n                (orderProduct) => orderProduct.id === product.id\r\n              ) || added\r\n                ? \"Додано у кошик\"\r\n                : \"Додати у кошик\"}\r\n            </button>\r\n          </div>\r\n          <div className={c.input__colors}>\r\n            <p className={c.input__text}>Колір:</p>\r\n            <div className={`${c.texture} ${c.texture_1}`}></div>\r\n            <div className={`${c.texture} ${c.texture_2}`}></div>\r\n            <div className={`${c.texture} ${c.texture_3}`}></div>\r\n            <div className={`${c.texture} ${c.texture_4}`}></div>\r\n            <div className={`${c.texture} ${c.texture_5}`}></div>\r\n            <div className={`${c.texture} ${c.texture_6}`}></div>\r\n            <div className={`${c.texture} ${c.texture_7}`}></div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={c.product__description}>\r\n        <div className={c.container}>\r\n          <div className={c.description__grid}>\r\n            <TabBar />\r\n            {product.photo && (\r\n              <img\r\n                className={c.description__image}\r\n                src={product.photo.main}\r\n                alt=\"\"\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <Offers product={state1.product} type=\"new\" title=\"Нові моделі\" />\r\n      <Offers\r\n        product={state1.product}\r\n        type=\"popular\"\r\n        title=\"Популярні моделі\"\r\n      />\r\n    </div>\r\n  );\r\n};\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}